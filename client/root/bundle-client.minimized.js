require=function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,(function(t){return r(e[s][1][t]||t)}),c,c.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){e.exports='.state-bundle:after{content:"b";background:#0f0;margin-left:.5em}'},{}],2:[function(t,e,n){e.exports='<div name=project-list style="width:10em;position:absolute;left:0px;top:0px;bottom:0px;border-right:1px solid gray;overflow:auto"><center><span style=font-weight:bold name=title>Projects</span> <span name=tool class=ht-cmd title="project tools" style="text-decoration:none;display:inline-block;\n\t\t\tborder:1px solid gray;height:1.1em;border-radius:25%;vertical-align:middle">•••</span></center><div name=list style=padding:0.5em></div><div style="font-size: 9pt;text-align:right;padding:0.5em">count: <i name=list-count>0</i></div></div><div name=splitter style=position:absolute;top:0px;bottom:0px;left:10em;width:8px;z-index:1></div><div name=top-bar style="padding-bottom:0.1em;position:absolute;left:10em;top:0px;right:0px;border-bottom:1px solid gray;overflow:auto"><div style="font-size:9pt;padding:0em 1em;vertical-align:top">View <span name=view-type><label title="test page, click to refresh"><input type=radio value=page> page</label><label title="browse path files, click to refresh"><input type=radio value=browse> browse</label><label title="executing console view, click to refresh"><input type=radio value=console> console</label></span><span name=operate style=display:none><span style="padding:0px 0.5em">|</span><label title="bundle the test module, and watch code change."><input type=checkbox name=bundle>bundle</label><span name=more class=ht-cmd title="more operations" style="text-decoration:none;display:inline-block;\n\t\t\t\tborder:1px solid gray;height:1.1em;border-radius:25%;vertical-align:text-top">••• </span></span><span name=browse-tool style=display:none><span style="padding:0px 0.5em">|</span> <span class=ht-cmd name=vscode title="open with local VsCode">VsCode</span> <span name=file-exec></span> </span><span style=float:right><span name=go-back title="go back" onclick=history.go(-1); style=display:none;cursor:pointer><img border=0 src=res/arrow-left.png style=height:1.2em;vertical-align:middle> </span><a style=color:blue href=about:blank target=_blank name=address-link title="open in new window">about:blank</a></span></div></div><div style=position:absolute;left:10em;top:1.5em;bottom:0px;right:0px;box-sizing:border-box><iframe name=iframe-page src=about:blank style=width:100%;height:100%;border:none></iframe></div><div name=iframe-mask style=visibility:hidden;position:absolute;left:10em;top:1.5em;bottom:0px;right:0px;box-sizing:border-box></div>'},{}],3:[function(t,e,n){e.exports=function(t,e){var n;if(e&&(n=document.getElementById(e))){if("STYLE"!=n.tagName.toUpperCase())return;n.textContent=t}else{(n=document.createElement("style")).type="text/css",e&&(n.id=e);try{n.appendChild(document.createTextNode(t))}catch(e){n.styleSheet.cssText=t}document.getElementsByTagName("head")[0].appendChild(n)}}},{}],4:[function(t,e,n){e.exports=function(t,e){for(var n,i,r=0;r<arguments.length;r++)(i=arguments[r])instanceof Array?n.addEventListener.apply(n,i):n="string"==typeof i?document.getElementById(i):i}},{}],5:[function(t,e,n){"use strict";var i=t(14),r=t(13),o=t(36),s=t(37),a=s.findWithFilter,l=s.mapValue,u=s.enclosePropertyDescriptor,c=t(10),d=c.observeSingleMutation,p=c.dispatchEventByName,h=function(t,e,n){t=r(t);var o=r.id(t);"string"==typeof n&&(n=Array.prototype.slice.call(arguments,2));var s,c,h=n[0],f=n[1];if("string"==typeof f?(s=f,f=null):(s=f.typeItem||f.item,c=f.valueMapper||f.map),!s)return i("bind typeItem empty",n);var m,g=n[2];if("function"==typeof g)m=g;else{if(!(g in e))return i("member unfound",g,n);m=e[g]}var b,y,v,x,S="function"==typeof m,L=S&&m===g?null:e,w=n[3],k=typeof w;if("boolean"===k?(b=w,w=null):"number"===k?(b=1&w,v=2&w,w=null):"string"===k?w&&(y=w,w=null):w&&(b=(y=w.notifyEvent||w.notify)||w.biDirection||w.bi,v=w.watchJs||w.watch,x=w.valueMapper||w.map),b||!y&&!v||(b=!0),"on"==h||"event"==h||"evt"==h){if(!S)return i("bind member is not a function",g,n);var T=function(t){return m.apply(L||this,[t,w])};return"on"==h?t["on"+s]=T:t.addEventListener(s,T,w&&w.listenerOptions),!0}if("attr"===h||"style"===h||"css"===h||"class"===h){if(S){var j="attr"===h?s:h;return"css"===j&&(j="style"),d(t,j,(function(t){return m.apply(L||this,[t,w])})),!0}if("attr"===h)C=a(null,m,l(x,t.getAttribute(s)||""),""),u(e,g,(function(t){t=""+l(c,t),r(o).getAttribute(s)!==t&&r(o).setAttribute(s,t)}),(function(){return l(x,r(o).getAttribute(s))})),b&&d(t,s,(function(t){e[g]=l(x,t.target.getAttribute(t.attributeName)||"")}));else if("style"===h||"css"===h){var C=a(null,m,l(x,t.style[s]||""),"");u(e,g,(function(t){t=""+l(c,t),r(o).style[s]!==t&&(r(o).style[s]=t)}),(function(){return l(x,r(o).style[s])})),b&&d(t,"style",(function(t){e[g]=l(x,t.target.style[s]||"")}))}else if("class"===h){C=a(null,m,l(x,t.classList.contains(s)),!1);u(e,g,(function(t){(t=!!l(c,t))&&!r(o).classList.contains(s)?r(o).classList.add(s):!t&&r(o).classList.contains(s)&&r(o).classList.remove(s)}),(function(){return l(x,r(o).classList.contains(s))})),b&&d(t,"class",(function(t){e[g]=l(x,t.target.classList.contains(s))}))}return e[g]=C,!0}if("prop"===h||"property"===h){if(!(s in t))return i("bind property unfound",s,n);if(S){T=function(t){return m.apply(L||this,[t,w])};return t.addEventListener(y||"change",T,w&&w.listenerOptions),v&&u(t,s,(function(t){p(o,y||"change",0)})),!0}C=a(null,m,l(x,t[s]||""));return u(e,g,(function(t){t=l(c,t),r(o)[s]!=t&&(r(o)[s]=t)}),(function(){return l(x,r(o)[s])})),b&&t.addEventListener(y||"change",(function(t){e[g]=l(x,r(o)[s])}),w&&w.listenerOptions),v&&u(t,s,(function(t){p(o,y||"change",0)})),e[g]=C,!0}return i("unknown bind type",h,n)},f=function(t,e,n){var s,a,l,u,c,d=t=r(t),p=n.length,f={"":r.id(d)};for(s=0;s<p;s++)if("string"!=typeof(a=n[s])){if(!(a instanceof Array))return i("bindItem is not an array",u,a);if(s&&!a[0]&&(c=n[s-1])instanceof Array&&(a[0]=c[0],a[1]||(a[1]=c[1])),(l=h(d,e,a))instanceof Error)return l}else{if(!(d=o(t,u=a)))return i("bind name path unfound",u,a);f[u]=r.id(d),u}return f};e.exports=n=h,n.bindElement=h,n.bindElementArray=f,n.array=f},{10:10,13:13,14:14,36:36,37:37}],6:[function(t,e,n){"use strict";var i=t(8),r=t(7),o=t(13),s=t(36),a=t(3),l=t(5),u=function(t,e,n){if("disable"!==t&&(void 0===t||t)){var i=n[""];t&&"dyna"===t.slice(0,4)?e.nme=function(t){return s(i,t)}:e.nme=function(t){if(t in n)return document.getElementById(n[t]);var e=s(i,t);return e&&(n[t]=o.id(e)),e}}};e.exports=function(t,e,n,s){"function"==typeof n&&3==arguments.length&&(s=n,n=null),n||(n=e.config||e),t=o(t),i(null,[function(t,e,i){return t?i.final(t):(!n.cssId||!o(n.cssId))&&(n.cssText||n.cssUrlText?"":n.cssUrl||"")},":loadCssUrl",function(t,e,i){r(n.cssUrl,"GET","",null,(function(t,e){n.cssUrlText=t?""+t.error:e.responseText||"",i.next(null,!0)}))},i.if(!0,null,i.joinAt(n.joinCss=n.joinCss||{},"loadCssUrl")),function(t,e,i){return t?i.final(t):(!n.cssUrlText&&!n.cssText||n.cssId&&o(n.cssId)||a(n.cssUrlText||n.cssText,n.cssId||(n.cssId=o.id(null,"bind-css-"))),!0)},function(t,e,i){return t?i.final(t):n.htmlText||n.htmlUrlText?"":n.htmlUrl||""},":loadHtmlUrl",function(t,e,i){r(n.htmlUrl,"GET","",null,(function(t,e){n.htmlUrlText=t?""+t.error:e.responseText||"",i.next(null,!0)}))},i.if(!0,null,i.joinAt(n.joinHtml=n.joinHtml||{},"loadHtmlUrl")),function(i,r,o){if(i)return o.final(i);if((n.htmlUrlText||n.htmlText)&&(t.innerHTML=(n.htmlUrlText||n.htmlText).replace(/\{\{\s*([^\s\}\:]+)\s*(\:([^\}]*))?\}\}/g,"<span name='$1'>$3</span>")),n.bindArray){var s=l.array(t,e,n.bindArray);if(s instanceof Error)return s;s&&u(n.nameTool,e,s)}var a=typeof n.init;return"function"===a?n.init.call(e,t):"string"===a&&e&&"function"==typeof e[n.init]&&e[n.init](t),!0},function(t,e,n){s?s(t,e):t&&console.log(t),n.next(t,e)}])}},{13:13,3:3,36:36,5:5,7:7,8:8}],7:[function(t,e,n){var i=function(t){if("string"!=typeof t)return t;var e,n={};return t.trim().split(/[\r\n]\s*/).map((function(t){(e=t.indexOf(":"))>0&&(n[t.slice(0,e).trim()]=t.slice(e+1).trim())})),n},r=function(t,e,n,r,o,s){var a,l="string"==typeof e?{method:e}:e||{};l.headers||(r?l.headers=r:"POST"===l.method&&(l.headers={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}));var u=function(){a&&(clearTimeout(a),a=null),o=null},c=new XMLHttpRequest;if(c.open(l.method,t,!0),l.headers)for(var d in l.headers)c.setRequestHeader(d,l.headers[d]);var p=0;return c.onreadystatechange=function(){if(4===c.readyState||0===c.readyState&&p){if(o){var t=c.getAllResponseHeaders(),e={responseText:c.responseText,statusCode:c.status,statusMessage:c.statusText,headerText:t,headers:i(t)};if(s&&(e.userData=s),200==c.status)o(null,e);else{var n=Error(c.status+" "+c.statusText+(c.responseText?", "+c.responseText.slice(0,255):""));for(var r in e)n[r]=e[r];o(n)}}u()}p=c.readyState},l.timeout>0&&(a=setTimeout((function(){if(o){var t=Error("timeout, "+l.timeout);s&&(t.userData=s),o(t)}a=null,u(),c.abort()}),l.timeout)),c.send(n),c},o=function(t,e,n,i,o,s){return r(t,e,n,i,(function(t,e){if(!t)try{e.responseJson=JSON.parse(e.responseText)}catch(i){for(var n in console.log(i),t=Error("JSON parse error, "+i.message),e)t[n]=e[n]}o&&o(t,e)}),s)};e.exports=n=r,n.requestText=r,n.requestJson=o,n.text=function(t,e,n,i,o,s){return r(t,e,n,i,(function(t,e){o&&o(t,t?e:e.responseText)}),s)},n.json=function(t,e,n,i,r,s){return o(t,e,n,i,(function(t,e){r&&r(t,t?e:e.responseJson)}),s)},n.parseHeaders=i},{}],8:[function(t,e,n){var i=function(t){return void 0!==t&&"number"!=typeof t};function r(t){this.root=this,this.operatorSet=t}var o=0;function s(t){return function(){var e=arguments;return function(n,i,r){return r[t].apply(r,[n,i].concat(Array.prototype.slice.call(e)))}}}r.prototype={debug:1,operatorSet:null,queue:null,labelSet:null,index:0,root:null,process:null,processId:null,state:0,processTmid:null,threadTmid:null,labelIndex:function(t,e){if(t in this.labelSet)return this.labelSet[t];if(e&&"function"==typeof this.operatorSet[t])return this.operatorSet[t];throw Error("unknown label, "+t)},buildQueue:function(t,e){t instanceof Array||(t=[t]),this.queue=[],this.labelSet={};var n,i,r,o,s,a,l,u,c=t.length;for(f=0;f<c;f++)if("number"!==(i=typeof(n=t[f]))){if("function"===i)(r=n).name&&"anonymous"!=r.name&&(s=s||r.name);else if("string"===i){if(":"===n.charAt(0)){a=a||n;continue}if(e&&e.queue&&e.operatorSet===this.operatorSet){if(n.indexOf(":")>0){for(var d=n.split(":").map((function(t){return e.labelIndex(t)})),p=d[0];p<=d[1];p++)(u=e.queue[p]).label&&(this.labelSet[u.label.replace(/^\:/,"")]=this.queue.length),this.queue.push(u);r=o=s=a=null;continue}if(n in e.labelSet){u=e.queue[e.labelIndex(n)],(u={timeout:o||u.timeout,label:a||s||u.label&&u.label.replace(/^\:/,""),op:u.op}).label&&(this.labelSet[u.label.replace(/^\:/,"")]=this.queue.length),this.queue.push(u),r=o=s=a=null;continue}}if(this.operatorSet&&n in this.operatorSet){if("function"!=typeof(r=this.operatorSet[n]))throw"cq format fail, not function label, "+n;s=n}else a?a!==n&&this.debug>0&&console.warn("WARN: cq parsing, duplicated label, "+a+", "+n):a=n}else if("object"===i&&(n.label&&(a=a||n.label),n.timeout&&(o=o||n.timeout),n.op))if("function"==typeof n.op)(r=n.op).name&&"anonymous"!=r.name&&(s=s||r.name);else{if(!this.operatorSet)throw"cq format fail, empty operatorSet for label, "+n.op;if("function"!=typeof(r=this.operatorSet[n.op]))throw"cq format fail, not function label, "+n.op;s=""+n.op}r&&((a=a||s)?(this.labelSet[a.replace(/^\:/,"")]=this.queue.length,l={label:a,timeout:o,op:r}):l={timeout:o,op:r},this.queue.push(l),r=o=s=a=null)}else o=o||n;if(!this.root.operatorSet){var h={};for(var f in this.labelSet)h[f]=this.queue[this.labelSet[f]].op;this.root.operatorSet=h}},run:function(t,e,n,r,s,a){i(r)&&(a=s,s=r,r=0);var l=Object.create(this.root);return l.process=l,l.processId=++o+(a?"-"+a:""),l.processTmid=null,l.threadTmid=null,l.index=0,l.buildQueue(n,this),l.state=1,r>0&&(l.processTmid=setTimeout((function(){1===l.state&&(l.state=3,s?l.jump("cq process timeout, "+r+", "+l.processId,null,s):l.processTmid=!1)}),r)),l.next(t,e)},pick:function(t,e,n,r,o,s,a){var l;if(i(r)&&(a=s,s=o,o=r,r=0),i(s)&&(a=s,s=0),!n||(l=n instanceof Array)&&!(n.length>0))return this.jump(t,e,o,s);var u=this,c=function(t,e,n){1==n.process.state&&n.next(),u.jump(t,e,o,s)};return l||(n=[n]),this.run(t,e,n.concat(c),r,c,a)},if:function(t,e,n,r,o,s,a,l,u){return i(s)&&(u=l,l=a,a=s,s=0),i(l)&&(u=l,l=0),n="function"==typeof n?n(t,e):null===n?!t:!0===n?!t&&e:!1===n?!t&&!e:!t&&e==n,this.pick(t,e,n?o:r,s,a,l,u)},loop:function(t,e,n,r,o,s,a,l){var u;i(a)&&(l=a,a=0),"function"==typeof n?n(u={error:t,data:e}):u=Object.create(n)||{};var c=0,d=function(t,e,n){return u.data=e,u.error=t,r&&r(u)||!r&&!t?n.pick(t,e,o,d,l?l+"-"+c++:null):n.jump(t,e,s,a)};return d(t,e,this)},jump:function(t,e,n,i){if(n){if("function"!=typeof n&&(n=this.labelIndex(n,!0)),"function"==typeof n)return n.call(this.operatorSet,t,e,this);this.process.index=n}return this.next(t,e,i)},final:function(t,e,n,i){if(!n)return this.process.index=this.queue.length-1,this.next(t,e,i);this.process.index=this.queue.length,this.pick(t,e,n,i)},next:function(t,e,n){if(this.threadTmid&&(clearTimeout(this.threadTmid),this.threadTmid=null),13!==this.state)if(12!==this.state){if(11===this.state)return this.state=12,this.process.next(t,e,n);if(3===this.state){if(!this.processTmid)return void(this.debug>0&&console.warn("WARN: cq blocked by process-timeout"));this.processTmid=!1}else{if(2===this.state)return void(this.debug>0&&console.warn("WARN: cq blocked by process-finished"));if(1!==this.state)throw Error("cq state unexpected, "+this.state)}if(this.process!==this)throw Error("cq process pointer fail");var i;for(!t||t instanceof Error||(t=Error(JSON.stringify(t).slice(0,300)));(i=this.queue[this.index])&&i.label&&":"===i.label.charAt(0);)this.index++;if(!i)return 3!=this.state&&(this.state=2),this.processTmid&&(clearTimeout(this.processTmid),this.processTmid=null),this.debug>1&&console.log("process finish, id='"+this.processId+"'"),t||e||null;this.index++;var r,o=Object.create(this);o.state=11,o.processTmid=null,o.threadTmid=null;try{r=i.op.call(this.operatorSet,t,e,o)}catch(t){this.debug>0&&console.warn("WARN: cq exception:",t),r=t instanceof Error?t:Error(t)}if(void 0!==r)return 12===o.state?void(this.debug>0&&console.warn("WARN: cq sync thread blocked")):13===o.state?void(this.debug>0&&console.warn("WARN: cq sync thread timeout blocked")):(o.state=12,r instanceof Error?this.next(r):this.next(null,r));if(11===o.state){var s=n>0?n:i.timeout;if(s){var a=this;o.threadTmid=setTimeout((function(){o.threadTmid=!1,o.state=13,a.next("cq thread timeout, "+s)}),s)}}}else this.debug>0&&console.warn("WARN: cq blocked by thread-finished");else this.debug>0&&console.warn("WARN: cq blocked by thread-timeout")},wait:function(t,e){var n=null,i=this;return t>0&&(n=setTimeout((function(){n=!1,i.next("cq wait-timeout, "+t)}),t)),function(r,o){if(!1!==n)return n&&(clearTimeout(n),n=null),i.next(r,o,e);i.debug>0&&console.warn("WARN: cq blocked by wait-timeout, "+t)}},waitVoid:function(t,e,n,i){var r=null,o=this;return n>0&&(r=setTimeout((function(){r=!1,o.next("cq waitVoid-timeout, "+n)}),n)),function(){if(!1!==r)return r&&(clearTimeout(r),r=null),o.next(t,e,i);o.debug>0&&console.warn("WARN: cq blocked by waitVoid-timeout, "+n)}},markCallback:function(t,e,n){return function(){return e.apply(n,[t].concat(Array.prototype.slice.apply(arguments)))}},fork:function(t,e,n,i,r){var o={},s=0,a=!1,l=Object.keys(n.pickSet).length,u=null,c=this;n.timeout>0&&(u=setTimeout((function(){u=!1,a=!0,c.jump("cq fork-timeout, "+n.timeout,[o,s,null],i,r)}),n.timeout));var d,p=n.mode||"all",h=function(t,e,n,d){if(!1!==u){if(!a){if(o[t]||(s++,o[t]=[e,n]),"all"===p){if(s<l)return;a=!0}else if("allOrError"===p){if(s<l&&!e)return;a=!0}else if("any"===p)a=!0;else if("anyData"===p){if(!n&&s<l)return;a=!0}a&&u&&(clearTimeout(u),u=null);var h=d.jump(null,[o,s,t],i,r);return!a&&h&&(a=!0,u&&(clearTimeout(u),u=null)),h}c.debug>0&&console.warn("WARN: fork blocked - "+p)}else c.debug>0&&console.warn("WARN: cq fork timeout blocked")};for(var f in n.pickSet)(d=n.pickSet[f])instanceof Array||!d.pickSet?this.pick(t,e,d,this.markCallback(f,h),(n.description||"")+":"+f):(d.description||(d.description=f),this.fork(t,e,d,this.markCallback(f,h)))},joinAt:function(t,e,n,r,o,s,a,l){if(i(o)&&(l=a,a=s,s=o,o=0),i(a)&&(l=a,a=0),!n||"object"!=typeof n)return this.pick(t,e,r,o,s,a,l);if(n.queDataList||(n.queDataList=[]),n.queDataList.push([this,s,a]),!n.running){n.running=!0;return this.pick(t,e,r,o,(function(t,e,i){for(var r,o,l,u;n.queDataList.length>0;){try{r=(u=n.queDataList.shift())[0].jump(t,e,u[1],u[2])}catch(t){console.warn("cq join exception",t),r=t}u[0]===i&&(o=r,l=!0)}return delete n.running,l?o:i.jump(t,e,s,a)}),l)}}};e.exports=n=function(t,e,n,o){if(!e)throw"cq empty operatorArray";return i(n)&&(o=n,n=0),new r(t).run(null,null,e,n,null,o)},n.class=r,n.isQue=function(t){return t instanceof r},n.jump=s("jump"),n.pick=s("pick"),n.if=s("if"),n.loop=s("loop"),n.final=s("final"),n.joinAt=s("joinAt"),n.fork=function(t,e,n,i){return function(r,o,s){return s.fork(r,o,{mode:t,pickSet:e},n,i)}}},{}],9:[function(t,e,n){Object.assign||(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n}),e.exports=function(t,e){return Object.assign.apply(Object,[Object.create(t)].concat(Array.prototype.slice.call(arguments,1)))}},{}],10:[function(t,e,n){var i=t(13),r=function(t,e){var n=(t=i(t)).lastChild;return t.insertAdjacentHTML("beforeend",e),n?n.nextSibling:t.firstChild};e.exports={appendHtml:r,appendBodyHtml:function(t){return r(document.body,t)},prependHtml:function(t,e){return(t=i(t)).insertAdjacentHTML("afterbegin",e),t.firstChild},querySelectorByAttr:function(t,e,n,r,o){return i(t).querySelector((e||"")+"["+n+(null!=r?"='"+(""+r).replace(/(\<\>\'\"\:)/g,"\\$1")+"'":"")+"]"+(o||""))},getSearchPart:function(t,e){if(e||(e=window.location.search),"function"==typeof URLSearchParams)return new URLSearchParams(e).get(t);var n=e.match(new RegExp("(^|\\?|\\&)"+t+"\\=([^\\&]*)($|\\&)"));return n&&n[2]},observeSingleMutation:function(t,e,n){"string"==typeof e&&(e={attributes:!0,attributeFilter:[e],attributeOldValue:!0});var i=new MutationObserver((function(t){return n(t[t.length-1])}));return i.observe(t,e),i},dispatchEventByName:function(t,e,n){var r;"function"==typeof Event?r=new Event(e):(r=document.createEvent("Event")).initEvent(e,!0,!0),n>=0?setTimeout((function(){i(t).dispatchEvent(r)}),n):i(t).dispatchEvent(r)}}},{13:13}],11:[function(t,e,n){e.exports=function(t){return"string"==typeof t?document.getElementById(t):t}},{}],12:[function(t,e,n){e.exports=function(t,e){var n="string"==typeof t?t:t.id||"",i=n.match(/\D(\d+)(\D*)$/);return i&&document.getElementById(n.slice(0,1-i[0].length)+(parseInt(i[1])+e)+i[2])}},{}],13:[function(t,e,n){e.exports=n=t(11),n.fromId=function(t){return document.getElementById(t)};var i=0;n.id=function(t,e){if(t&&t.id)return t.id;var n;for(e||(e="ele-id-");document.getElementById(n=e+ ++i););return t?t.id=n:n}},{11:11}],14:[function(t,e,n){e.exports=function(t,e,n){return void 0!==e&&(t+=", "+JSON.stringify(e)),void 0!==n&&(t+=", "+JSON.stringify(n)),t instanceof Error?t:Error(t)}},{}],15:[function(t,e,n){var i=t(11);t(3)(t(16),"ht-common-css");e.exports={setSelected:function(t,e,n,r){if(!n){var o=t;t=e,e=o}var s,a;if(t)for(t instanceof Array||(t=[t]),a=t.length,s=0;s<a;s++)i(t[s]).classList.add(r||"ht-selected");if(e)for(e instanceof Array||(e=[e]),a=e.length,s=0;s<a;s++)i(e[s]).classList.remove(r||"ht-selected")}}},{11:11,16:16,3:3}],16:[function(t,e,n){e.exports=".ht-cmd{color:green;text-decoration:underline;cursor:pointer;font-size:9pt}.ht-cmd:hover{background:#eee}.ht-hover:hover{background:#eee}.ht-selected{background:#e6e6fa}.ht-selected:hover{background:#f0f0fa}"},{}],17:[function(t,e,n){"use strict";var i=t(19),r=t(30),o=t(28),s=t(27),a=t(33);e.exports={tab:t(32),radio_group:o,radioGroup:o,show_log:r,showLog:r,drag:t(18),popup:s,showPopupHtml:s.showHtml,alert:i.alert,confirm:i.confirm,confirmYnc:i.confirmYnc,prompt:i.prompt,selectRadioList:i.selectRadioList,selectCheckboxList:i.selectCheckboxList,selectButtonList:i.selectButtonList,width_splitter:a,widthSplitter:a}},{18:18,19:19,27:27,28:28,30:30,32:32,33:33}],18:[function(t,e,n){var i=t(9),r=t(13),o={dragSet:null,dragSetCount:0,moveChanged:!1,init:function(){this.dragSet={},this.dragSetCount=0,this._onMove=this._onStop=this._onKey=null},start:function(t,e){if(arguments.length<2)return!1;if(t||(t=window.event),t.target.tagName.match(/^(input|button|textarea|select|option.*|a|label)$/i)||t.target.classList.contains("ht-input")||t.target.classList.contains("ht-cmd"))return!1;var n,i,o;if("mousedown"==t.type)n=t,i={from:"mouse",elStart:t.target,key:"mouse"},"mouse"in this.dragSet&&this.onStop({type:"mouseup"});else{if("touchstart"!=t.type)return!1;o="touch-"+(n=t.targetTouches[0]).identifier,i={from:"touch",elStart:t.target,key:o},o in this.dragSet&&this.onStop({type:"touchend",changedTouches:[{identifier:n.identifier}]})}i.pageX0=n.pageX,i.pageY0=n.pageY,i.itemArray=[];var s,a,l=arguments.length;for(s=1;s<l;s++)a=r(arguments[s]),i.itemArray.push([a,parseInt(a.style.left)||0,parseInt(a.style.top)||0]);this.dragSet[i.key]=i,this.dragSetCount++,1===this.dragSetCount&&(document.addEventListener("mousemove",this._onMove||(this._onMove=this.onMove.bind(this)),!1),document.addEventListener("mouseup",this._onStop||(this._onStop=this.onStop.bind(this)),!1),document.addEventListener("keyup",this._onKey||(this._onKey=this.onKey.bind(this)),!1),document.addEventListener("touchmove",this._onMove,{passive:!1}),document.addEventListener("touchend",this._onStop,!1)),this.moveChanged=!1},getEventList:function(t){var e=[],n=t.type.slice(0,5);if("mouse"==n)e.push(t,this.dragSet.mouse);else{if("touch"!=n)return null;var i,r,o="touchend"==t.type?t.changedTouches:t.targetTouches,s=o.length;for(i=0;i<s;i++)(r="touch-"+o[i].identifier)in this.dragSet&&e.push(o[i],this.dragSet[r])}return e.length>0?e:null},onStop:function(t){if(!1===t)for(var e in this.dragSet){var n,i,r=(s=this.dragSet[e]).itemArray.length;for(n=0;n<r;n++)(i=s.itemArray[n])[0].style.left=i[1]+"px",i[0].style.top=i[2]+"px"}if(t){var o=this.getEventList(t);if(!o)return!1;var s,a=o.length;for(e=0;e<a;e+=2)(s=o[e+1]).key in this.dragSet&&(delete this.dragSet[s.key],this.dragSetCount--)}else this.dragSet={},this.dragSetCount=0;this.dragSetCount<1&&(document.removeEventListener("mousemove",this._onMove,!1),document.removeEventListener("mouseup",this._onStop,!1),document.removeEventListener("keyup",this._onKey,!1),document.removeEventListener("touchmove",this._onMove,{passive:!1}),document.removeEventListener("touchend",this._onStop,!1)),this.dragSetCount<0&&(console.error("dragSetCount abnormal, "+this.dragSetCount),this.onStop(!1),this.dragSetCount=0)},onFirstMove:null,onMove:function(t){var e=this.getEventList(t);if(!e)return!1;var n,i,r,o=e.length;for(n=0;n<o;n+=2){i=e[n+1];var s=e[n].pageX-i.pageX0,a=e[n].pageY-i.pageY0;(s||a)&&(r=1);var l,u,c=i.itemArray.length;for(l=0;l<c;l++)(u=i.itemArray[l])[0].style.left=u[1]+s+"px",u[0].style.top=u[2]+a+"px"}"touchmove"==t.type&&t.preventDefault(),!this.moveChanged&&r&&(this.moveChanged=!0,this.onFirstMove&&this.onFirstMove(t))},onKey:function(t){27==(t.keyCode||t.which||t.charCode)?this.onStop(!1):this.onStop()},startListener:function(){o.start(arguments[0],this)}};o.init(),e.exports=n=o,n.class=function(t){var e=i(o,t);return e.init(),e}},{13:13,9:9}],19:[function(t,e,n){var i=t(13),r=t(27),o=t(36),s=t(15),a=t(10),l=function(){r.hide(this,o(this.parentNode.parentNode,".input").value)},u=function(){if(this.checked){var t=this.parentNode.parentNode,e=t.getAttribute("value"),n=a.querySelectorByAttr(t,"input","value",e);s.setSelected(this.parentNode,n&&n.parentNode,!0),t.setAttribute("value",this.value)}},c=function(){var t=o(this.parentNode.parentNode,".input");r.hide(this,t.querySelector("input:checked").value)},d=function(){s.setSelected(this.parentNode,null,this.checked)},p=function(){var t,e=o(this.parentNode.parentNode,".input").querySelectorAll("input:checked"),n=[];for(t=0;t<e.length;t++)n[t]=e[t].value;r.hide(this,n)};e.exports={alert:function(e,n,i){var s=r.showHtml(t(20),n,i);return o(s,".message").innerHTML=e,o(s,".ok").addEventListener("click",r.closeListener),s},confirm:function(e,n,i){var s=r.showHtml(t(23),n,i);return o(s,".message").innerHTML=e,o(s,".ok").addEventListener("click",r.closeByNameListener),o(s,".cancel").addEventListener("click",r.closeListener),s},confirmYnc:function(e,n,i){var s=r.showHtml(t(22),n,i);return o(s,".message").innerHTML=e,o(s,".yes").addEventListener("click",r.closeByNameListener),o(s,".no").addEventListener("click",r.closeByNameListener),o(s,".cancel").addEventListener("click",r.closeListener),s},prompt:function(e,n,i,s){var a=r.showHtml(t(24),i,s);return o(a,".message").innerHTML=e,o(a,".ok").addEventListener("click",l),o(a,".cancel").addEventListener("click",r.closeListener),n&&(o(a,".input").value=n),a},selectRadioList:function(e,n,s,l,d){var p=r.showHtml(t(25),l,d);o(p,".message").innerHTML=e,o(p,".ok").addEventListener("click",c),o(p,".cancel").addEventListener("click",r.closeListener);var h=o(p,".input");s&&h.setAttribute("value",s),l&&l.maxHeight&&(h.style["max-height"]=l.maxHeight);var f,m,g,b,y,v=i.id(null,"ht-select-radio-"),x=n.length;for(f=0;f<x;f++)(m=n[f])instanceof Array||(m=[m,m]),(g=a.appendHtml(h,"<label class='ht-hover' style='width:100%;display:block;margin-bottom:1px;'></label>")).innerHTML=" "+m[1],(y=m[0]==s)&&g.classList.add("ht-selected"),(b=a.prependHtml(g,"<input type='radio' name='"+v+"'></input> ")).value=m[0],y&&(b.checked=!0),b.addEventListener("change",u);return p},selectCheckboxList:function(e,n,i,s,l){var u=r.showHtml(t(25),s,l);o(u,".message").innerHTML=e,o(u,".ok").addEventListener("click",p),o(u,".cancel").addEventListener("click",r.closeListener),i&&"string"!=typeof i||(i=[i]);var c=o(u,".input");s&&s.maxHeight&&(c.style["max-height"]=s.maxHeight);var h,f,m,g,b,y=n.length;for(h=0;h<y;h++)(f=n[h])instanceof Array||(f=[f,f]),(m=a.appendHtml(c,"<label class='ht-hover' style='width:100%;display:block;margin-bottom:1px;'></label>")).innerHTML=" "+f[1],(b=i.indexOf(f[0])>=0)&&m.classList.add("ht-selected"),(g=a.prependHtml(m,"<input type='checkbox'></input> ")).value=f[0],b&&(g.checked=!0),g.addEventListener("change",d);return u},selectButtonList:function(e,n,i,s){var l=r.showHtml(t(21),i,s);o(l,".message").innerHTML=e;var u=o(l,".input");i&&i.maxHeight&&(u.style["max-height"]=i.maxHeight);var c,d,p,h=n.length;for(c=0;c<h;c++)(d=n[c])instanceof Array||(d=[d,d]),(p=a.appendHtml(u,"<button style='width:100%;display:block;margin-bottom:0.5em;'></button>")).innerHTML=d[1],p.setAttribute("name",d[0]),p.addEventListener("click",r.closeByNameListener);return(p=a.appendHtml(u,"<button style='width:100%;display:block;margin-bottom:1px;margin-top:1em;'>Cancel</button>")).addEventListener("click",r.closeListener),l}}},{10:10,13:13,15:15,20:20,21:21,22:22,23:23,24:24,25:25,27:27,36:36}],20:[function(t,e,n){e.exports="<div style=min-width:200px name=message></div><br><span style=float:right><button name=ok>OK</button></span>"},{}],21:[function(t,e,n){e.exports='<div style=min-width:200px name=message></div><br><div name=input class="ht-input ht-popup-group" value="" style=border:none></div>'},{}],22:[function(t,e,n){e.exports="<div style=min-width:200px name=message></div><br><span style=float:right><button name=yes>Yes</button> <button name=no>No</button> <button name=cancel>Cancel</button></span>"},{}],23:[function(t,e,n){e.exports="<div style=min-width:200px name=message></div><br><span style=float:right><button name=ok>OK</button> <button name=cancel>Cancel</button></span>"},{}],24:[function(t,e,n){e.exports="<div style=min-width:200px name=message></div><br><input type=text style=width:100%;box-sizing:border-box name=input><br><br><span style=float:right><button name=ok>OK</button> <button name=cancel>Cancel</button></span>"},{}],25:[function(t,e,n){e.exports='<div style=min-width:200px name=message></div><br><div name=input class="ht-input ht-popup-group" value=""></div><br><span style=float:right><button name=ok>OK</button> <button name=cancel>Cancel</button></span>'},{}],26:[function(t,e,n){e.exports=".ht-popup{position:fixed;left:0;top:0;right:0;bottom:0;text-align:center}.ht-popup-back{position:absolute;left:0;top:0;right:0;bottom:0;background:#eee;opacity:.5}.ht-popup-body{display:inline-block;position:relative;margin-top:10%;background:#fff;border:1px solid gray;border-radius:.6em;padding:.5em;box-shadow:0 0 30px gray;text-align:left}.ht-popup-modal{border-radius:0}.ht-popup-group{border:1px solid #ccc;padding:.2em;max-height:10em;overflow:auto;max-width:500px}"},{}],27:[function(t,e,n){var i=t(13),r=t(3),o=t(10),s=t(4),a=t(34),l=t(18),u=null,c=function(){this.parentNode.querySelector(".ht-popup-body").classList.contains("ht-popup-modal")||h(this)},d=function(){h(this)},p=function(e,n,s){for(n=a.cb(n,s,null,"modal"),u||(u=[],r(t(26))),e=i(e);u.length>0&&"none"==u[u.length-1][0].style.display;)u.pop();var l,p=u.length;for(l=0;l<p;l++)if(u[l][0]===e)return void console.error("fail to re-open popup, "+(e.id||""));var h=e.querySelector(".ht-popup-body");if(h){if(!e.querySelector(".ht-popup-back"))o.prependHtml(e,"<div class='ht-popup-back'></div>").addEventListener("click",c);var f=h.querySelector("span[name='ht-popup-close']");return f||(f=o.prependHtml(h,"<span name='ht-popup-close' style='float:right;text-decoration:none;padding:0em 0.3em;' class='ht-cmd' title='Close'>x</span>")).addEventListener("click",d),n.modal?(h.classList.add("ht-popup-modal"),f.innerHTML="[&times;]"):(h.classList.remove("ht-popup-modal"),f.innerHTML="(&times;)"),e.style.display="",e.style.zIndex=10+u.length,u.push([e,n]),e}console.error("popup-body unfound, "+(e.id||""))},h=function(t,e){for(t=i(t);t&&!t.classList.contains("ht-popup");)t=t.parentNode;if(t){var n,r;for(n=u.length-1;n>=0;n--){if(t===(r=u[n])[0])return t.style.display="none",u.pop(),void(r[1].cb&&r[1].cb.call(r[1].cbThis,null,e));if("none"!=r[0].style.display)break;u.pop()}if(u.length)for(console.error("abnormal popup, close all.");u.length>0;)u.pop()[0].style.display="none"}else console.error("top ht-popup unfound")};e.exports={show:p,hide:h,closeListener:d,closeByNameListener:function(){h(this,this.getAttribute("name"))},showHtml:function(t,e,n){var r,a,u;for(r=1;r<=10&&(u=i(a="ht-popup-html-"+r))&&"none"!=u.style.display;r++);if(!(r>10)){var c,d=i(a);return d?c=i(a).querySelector(".ht-popup-body"):(d=o.appendBodyHtml("<div id='"+a+"' class='ht-popup' style='display:none;'><div class='ht-popup-body'></div></div>"),c=i(a).querySelector(".ht-popup-body"),s(c,["mousedown",l.startListener],["touchstart",l.startListener])),c.innerHTML=t,p(a,e,n)}console.error("popup-html stack overflow, max 10")}}},{10:10,13:13,18:18,26:26,3:3,34:34,4:4}],28:[function(t,e,n){var i=t(13),r=function(t){return"INPUT"==(t=i(t)).tagName.toUpperCase()&&"radio"==t.type?t:t.querySelectorAll("input[type='radio']")},o=function(){this.checked=!0;var t=this.getAttribute("ht-ui-radio-group"),e=i(t),n=e.getAttribute("ht-ui-radio-group-last"),r=i.id(this);n!=r&&(n&&(i(n).checked=!1),e.setAttribute("ht-ui-radio-group-last",r))},s=function(t,e,n){t instanceof Array||(t=[t]),n||(n=t[0]);for(var s,a,l,u,c=i.id(i(n)),d=0;d<t.length;d++)for(a=r(t[d]),s=0;s<a.length;s++)l=a[s],u||(u=l),l.setAttribute("ht-ui-radio-group",c),l.addEventListener("click",o),l.checked=l.getAttribute("value")===e,l.checked&&(u=l);return o.apply(u),c};e.exports=n=s,n.init=s,n.getValue=function(t){var e=i(t),n=e.getAttribute("ht-ui-radio-group-last");if(!n){if(!(t=r(e)[0].getAttribute("ht-ui-radio-group")))return null;if(!(n=i(t).getAttribute("ht-ui-radio-group-last")))return null}return i(n).getAttribute("value")}},{13:13}],29:[function(t,e,n){e.exports='<div style="position:fixed;right:0.5em;bottom:0.5em;width:auto;height:auto;max-width:500px;background:white;border:1px\n\tsolid gray;font-size:9pt;padding:0.5em;cursor:default"><span name=close class=ht-cmd style="float:right;text-decoration:none;padding:0em 0.3em" title=Close>&times;</span> <span name=minimize class=ht-cmd style="display:none;float:right;text-decoration:none;padding:0em 0.3em" title=Minimize>&minus;</span> <b>Log</b><div name=content style=display:none></div></div>'},{}],30:[function(t,e,n){var i=t(13),r=t(38),o=t(10),s=t(36),a=null,l=null,u=function(){if(this.onclick){var t=parseInt(this.getAttribute("repeatCount")),e=this.title.split("\n");this.innerHTML=e[e.length-1]+(t>1?" <b>("+t+")</b>":""),this.style.color="green",this.onclick=null,this.className=""}},c=function(e){var n=i(l);n||((n=o.appendBodyHtml(t(29))).addEventListener("click",(function(){c()})),s(n,"close").addEventListener("click",(function(){setTimeout((function(){c(!1)}),0)})),s(n,"minimize").addEventListener("click",(function(){setTimeout((function(){c(null)}),0)})),l=i.id(n));var d=s(n,"content"),p=s(n,"minimize"),h=s(n,"close");if(n.style.display="",e){var f=r.toString19(),m=d.lastChild;if(m&&m.querySelector("span:nth-child(2)").textContent==e){var g=m.querySelector("span"),b=parseInt(g.getAttribute("repeatCount"))+1;g.setAttribute("repeatCount",b);var y=g.title.split("\n");for(y[y.length]=f;y.length>16;)y.shift();g.title=(b>y.length?"...\n":"")+y.join("\n"),g.innerHTML=(g.onclick?f.slice(-8):f)+" <b>("+b+")</b>"}else for((m=o.appendHtml(d,"<div>* <span class='ht-cmd' title='"+f+"' repeatCount='1'>"+f.slice(-8)+"</span> <span></span></div>")).querySelector("span").onclick=u,m.querySelector("span:nth-child(2)").textContent=e;d.childNodes.length>16;)d.removeChild(d.firstChild);d.style.display=p.style.display=h.style.display=""}else null===e||!1===e?(d.style.display=p.style.display=h.style.display="none",!1===e&&(n.style.display="none")):"none"==d.style.display&&d.childNodes.length>0&&(d.style.display=p.style.display=h.style.display="");"none"!=d.style.display&&(a&&(clearTimeout(a),a=null),a=setTimeout((function(){d.style.display=p.style.display=h.style.display="none",a=null}),5e3))};e.exports=c},{10:10,13:13,29:29,36:36,38:38}],31:[function(t,e,n){e.exports=".ht-tab-group{border-bottom:1px solid #000;margin-bottom:.5em}.ht-tab-item{display:inline-block;padding:.2em .5em;margin-left:.5em;position:relative;left:0;top:0;background:#eee;cursor:pointer;border-left:1px solid #eee;border-top:0 solid #eee;border-right:1px solid #eee}.ht-tab-item-selected{background:#fff;top:1px;cursor:default;border-left:1px solid #000;border-top:1px solid #000;border-right:1px solid #000}"},{}],32:[function(t,e,n){var i=t(13),r=t(3),o=!1,s=function(){var t=this.getAttribute("ht-ui-tab-group"),e=i.id(this),n=this.getAttribute("ht-ui-tab-pannel"),r=i(t),o=r.getAttribute("ht-ui-tab-last-tab"),s=r.getAttribute("ht-ui-tab-last-view");o==e&&s==n||(o&&i(o).classList.remove("ht-tab-item-selected"),s&&(i(s).style.display="none"),i(e).classList.add("ht-tab-item-selected"),n&&(i(n).style.display=""),r.setAttribute("ht-ui-tab-last-tab",e),r.setAttribute("ht-ui-tab-last-view",n))},a=function(e,n,a){if(o||(o=!0,r(t(31),"ht-ui-tab-css")),e instanceof Array)e=Array.prototype.concat.apply([],e);else{var l=[];for(u in e)l.push(u,e[u]);e=l}a||(a=i(e[0]));var u,c,d,p=i.id(a,"tab-group-");for(u=0;u<e.length;u+=2)(c=i(e[u])).setAttribute("ht-ui-tab-group",p),c.addEventListener("click",s),c.classList.add("ht-tab-item"),u==n?c.classList.add("ht-tab-item-selected"):c.classList.remove("ht-tab-item-selected"),(d=i(e[u+1])).style.display=u==n?"":"none",c.setAttribute("ht-ui-tab-pannel",i.id(d));return n&&s.apply(i(n)),p};e.exports=n=a,n.init=a,n.getSelected=function(t){var e=i(t),n=e.getAttribute("ht-ui-tab-last-tab");if(!n){if(!(t=e.getAttribute("ht-ui-tab-group")))return null;if(!(n=i(t).getAttribute("ht-ui-tab-last-tab")))return null}return n}},{13:13,3:3,31:31}],33:[function(t,e,n){var i=t(13),r=t(39),o=t(18),s=new o.class({option:{},leftWidthList:null,rightBorderList:null,leftBorderList:null,rightWidthList:null,el1:null,top0:null,left0:null,leftWidth0:null,rightBorder0:null,rightBorderWidth0:null,leftBorder0:null,leftBorderWidth0:null,rightWidth0:null,start:function(t,e){var n,s,a,l,u;for(this.el1=e,this.top0=e.style.top,this.left0=r.left(e),this.leftWidth0=l=[],s=this.leftWidthList.length,n=0;n<s;n++)l[l.length]=r.width(i(this.leftWidthList[n]));for(this.rightWidth0=l=[],s=this.rightWidthList.length,n=0;n<s;n++)l[l.length]=r.width(i(this.rightWidthList[n]));for(this.rightBorder0=l=[],this.rightBorderWidth0=u=[],s=this.rightBorderList.length,n=0;n<s;n++)a=i(this.rightBorderList[n]),l[l.length]=r.right(a),u[u.length]=a.offsetWidth;for(this.leftBorder0=l=[],this.leftBorderWidth0=u=[],s=this.leftBorderList.length,n=0;n<s;n++)a=i(this.leftBorderList[n]),l[l.length]=r.left(a),u[u.length]=a.offsetWidth;this.el1.style.background="lightgrey",this.option.callback&&this.option.callback("start"),o.start.apply(this,arguments)},onStop:function(t){o.onStop.apply(this,arguments),this.el1.style.background="",this.el1=null,this.option.callback&&this.option.callback("stop")},onMove:function(t){if(o.onMove.apply(this,arguments),this.moveChanged){this.el1.style.top=this.top0;var e,n,r,s=parseInt(this.el1.style.left)-this.left0,a=this.option;for(n=this.leftWidthList.length,e=0;e<n;e++)(r=this.leftWidth0[e]+s)<a.minLeft&&(s=a.minLeft-this.leftWidth0[e]),a.maxLeft&&r>a.maxLeft&&(s=a.maxLeft-this.leftWidth0[e]);for(n=this.rightBorderList.length,e=0;e<n;e++)(r=this.rightBorderWidth0[e]+s)<a.minLeft&&(s=a.minLeft-this.rightBorderWidth0[e]),a.maxLeft&&r>a.maxLeft&&(s=a.maxLeft-this.rightBorderWidth0[e]);for(n=this.leftBorderList.length,e=0;e<n;e++)(r=this.leftBorderWidth0[e]-s)<a.minRight&&(s=-(a.minRight-this.leftBorderWidth0[e])),a.maxRight&&r>a.maxRight&&(s=-(a.maxRight-this.leftBorderWidth0[e]));for(n=this.rightWidthList.length,e=0;e<n;e++)(r=this.rightWidth0[e]-s)<a.minRight&&(s=-(a.minRight-this.rightWidth0[e])),a.maxRight&&r>a.maxRight&&(s=-(a.maxRight-this.rightWidth0[e]));for(n=this.leftWidthList.length,e=0;e<n;e++)i(this.leftWidthList[e]).style.width=this.leftWidth0[e]+s+"px";for(n=this.rightBorderList.length,e=0;e<n;e++)i(this.rightBorderList[e]).style.right=this.rightBorder0[e]-s+"px";for(n=this.leftBorderList.length,e=0;e<n;e++)i(this.leftBorderList[e]).style.left=this.leftBorder0[e]+s+"px";for(n=this.rightWidthList.length,e=0;e<n;e++)i(this.rightWidthList[e]).style.width=this.rightWidth0[e]-s+"px";this.el1.style.left=s+this.left0+"px",a.callback&&a.callback("move",s)}}});s.init(),WidthSplitterDragObjectClass=function(t,e,n,r,o,a){var l=typeof a;"function"===l?a={callback:a}:"number"===l?a={min:a}:a||(a={}),a.minLeft=a.minLeft||a.min||0,a.maxLeft=a.maxLeft||a.max||0,a.minRight=a.minRight||a.min||0,a.maxRight=a.maxRight||a.max||0,a.callback=a.callback||a.cb,e instanceof Array||(e=e?[e]:[]),n instanceof Array||(n=n?[n]:[]),r instanceof Array||(r=r?[r]:[]),o instanceof Array||(o=o?[o]:[]),(t=i(t)).style.cursor="ew-resize",t.style.userSelect="none";var u=Object.create(s);return u.init(),u.option=a,u.leftWidthList=e,u.rightBorderList=n,u.leftBorderList=r,u.rightWidthList=o,t.onmousedown=function(){u.start(arguments[0],this)},t.ontouchstart=t.onmousedown,u},e.exports=n=function(t,e,n,i,r,o){return new WidthSplitterDragObjectClass(t,e,n,i,r,o)},n.widthSplitterDragObject=s,n.class=WidthSplitterDragObjectClass},{13:13,18:18,39:39}],34:[function(t,e,n){function i(t,e,n){var i=t;return e?(i={})[e]=t:"object"==typeof t&&null!==t||(i={},n?i[n]=t:i.raw_options=t),i}e.exports=n=i,n.cb=function(t,e,n,r){var o=i(t,n||"function"==typeof t&&void 0===e&&"cb",r);return e&&(o.cb=e),o}},{}],35:[function(t,e,n){e.exports={dirPart:function(t){return t.replace(/[\\\/]+$/,"").replace(/[^\\\/]+$/,"")},normalize:function(t){t=(t=t.replace(/([\\\/])([\\\/]+)/g,"$1")).replace(/(^|[\\\/])(\.([\\\/]|$))+/g,"$1");for(var e="";t&&e!=t;)e=t,t=t.replace(/(^|[\\\/])([^\.\\\/]|\.+[^\.\\\/])[^\\\/]*[\\\/]\.\.([\\\/]|$)/,"$1");return t}}},{}],36:[function(t,e,n){e.exports=function(t,e,n){"string"==typeof e&&(e.indexOf(".")>=0?(void 0===n&&(n=!0),e=e.replace(/^\./,"").split(".")):e=e.split(/\s+/));var i,r=e.length,o=[];for(i=0;i<r;i++)o[o.length]="[name='"+e[i].replace(/(\<\>\'\"\:)/g,"\\$1")+"']";if(t="string"==typeof t?document.getElementById(t):t,!n)return t.querySelector(o.join(" "));var s,a,l=t.querySelectorAll(o.join(" ")),u=l.length;for(s=0;s<u;s++){for(a=l[s].parentNode,i=r-2;i>=0;i--){for(;!a.hasAttribute("name");)a=a.parentNode;if(a.getAttribute("name")!=e[i])break;a=a.parentNode}if(!(i>=0))for(;;){if(a===t)return l[s];if(a.hasAttribute("name"))break;a=a.parentNode}}return null}},{}],37:[function(t,e,n){var i=function(t,e){var n,r=arguments[2]||0;if(!(r>=0&&r<32))return null;if(n=Object.getOwnPropertyDescriptor(t,e))return n;var o=Object.getPrototypeOf(t);return o&&t!==o?i(o,e,r+1):null},r=function(t){return t||0===t||""===t||!1===t};e.exports={getPropertyDescriptor:i,enclosePropertyDescriptor:function(t,e,n,r,o){"boolean"==typeof o&&(o={replaceGetter:o});var s=o&&o.replaceGetter;o=null;var a=i(t,e)||{},l={configurable:!0,enumerable:!0},u=a.set;u?l.set=n?function(t){u.call(this,t),n.call(this,t)}:u:n&&(l.set=n),!a.get||r&&s?r&&(l.get=r):(l.get=a.get,r=null),t.hasOwnProperty(e)&&delete t[e],Object.defineProperty(t,e,l)},findWithFilter:function(t,e){if(t||(t=r),t(e))return e;var n,i=arguments.length;for(n=2;n<i;n++)if(t(e=arguments[n]))return e},mapValue:function(t,e){if(!t)return e;var n="function"==typeof t?t(e):t[e];return void 0===n?e:n}}},{}],38:[function(t,e,n){var i=864e5,r=function(t){return new Date(t.getTime()-6e4*t.getTimezoneOffset())},o=function(t){return new Date(t.getTime()+6e4*t.getTimezoneOffset())},s=function(t,e){return t||(t=new Date),(e?t.getUTCFullYear()+"-"+(t.getUTCMonth()+1)+"-"+t.getUTCDate()+" "+t.getUTCHours()+":"+t.getUTCMinutes()+":"+t.getUTCSeconds():t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()).replace(/\b(\d)\b/g,"0$1")},a=function(t,e){return t||(t=new Date),(e?t.getUTCHours()+":"+t.getUTCMinutes()+":"+t.getUTCSeconds():t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()).replace(/\b(\d)\b/g,"0$1")},l=function(t,e){return t||(t=new Date),(e?t.getUTCFullYear()+"-"+(t.getUTCMonth()+1)+"-"+t.getUTCDate():t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()).replace(/\b(\d)\b/g,"0$1")},u=function(t,e){return l(t,e).replace(/\D/g,"")},c=function(t){return new Date(t.getFullYear(),t.getMonth(),1,0,0,0)},d=function(t){return new Date(t.getFullYear(),t.getMonth()+1,1,0,0,0)},p=function(t,e,n,i){var r=e-t,o=r<0?"-":"";o&&(r=-r);var s,a=(r=Math.round(r/1e3))%60,l=(r=Math.round(r/60))%60,u=(r=(r-l)/60)%24,c=r=(r-u)/24;return i&&i.match(/^(gb|ch|zh|936|chinese)$/i)&&(s=o+c+"天"+u+"时"+l+"分"+a+"秒"),s||(s=o+c+"d "+u+"h "+l+"m "+a+"s"),n?s.replace(/(\d+)(\D+)(?!$)/g,(function(t,e){return"0"===e?"":t})):s};e.exports={DAY_MILLISECONDS:i,utcToLocal:r,localToUtc:o,utcNow:function(){return o(new Date)},toString19:s,toString14:function(t,e){return s(t,e).replace(/\D/g,"")},toMdhms14:function(t,e){return s(t,e).slice(-14)},toString23:function(t,e){return t||(t=new Date),s(t)+"."+("00"+(e?t.getUTCMilliseconds():t.getMilliseconds())).slice(-3)},fromString14:function(t,e){var n=new Date(parseInt(t.substring(0,4),10),t.substring(4,6)-1,t.substring(6,8),t.substring(8,10),t.substring(10,12),t.substring(12,14));return e?r(n):n},fromYmd8:function(t){return new Date(parseInt(t.substring(0,4),10),t.substring(4,6)-1,t.substring(6,8),0,0,0)},fromString19:function(t,e){var n=t.split(/\D/),i=new Date(parseInt(n[0],10),n[1]-1,n[2],n[3],n[4],n[5]);return e?r(i):i},fromYmd10:function(t){var e=t.split(/\D/);return new Date(parseInt(e[0],10),e[1]-1,e[2],0,0,0)},fromString23:function(t,e){var n=t.split(/\D/),i=new Date(parseInt(n[0],10),n[1]-1,n[2],n[3],n[4],n[5],parseInt(n[6],10));return e?r(i):i},toHms8:a,toHm5:function(t,e){return a(t,e).slice(0,5)},toYmd10:l,toYmd8:u,toYmd6:function(t,e){return u(t,e).slice(-6)},monthStart:c,monthEnd:function(t){return new Date(t.getFullYear(),t.getMonth()+1,1,0,0,0,-1)},previousMonthStart:function(t){return new Date(t.getFullYear(),t.getMonth()-1,1,0,0,0)},previousMonthEnd:function(t){return new Date(t.getFullYear(),t.getMonth(),1,0,0,0,-1)},nextMonthStart:d,nextMonthEnd:function(t){return new Date(t.getFullYear(),t.getMonth()+2,1,0,0,0,-1)},monthDayNumber:function(t){return(d(t)-c(t))/i},diffDhms:p,diffDhm:function(t,e,n,i){var r=p(t,e,!1,i).replace(/\s*\d+(\D+)?$/,"");return n?r.replace(/(\d+)(\D+)(?!$)/g,(function(t,e){return"0"===e?"":t})):r}}},{}],39:[function(t,e,n){function i(t,e,n){"string"==typeof t&&(t=document.getElementById(t));var i=""+t.style[e];if(i.match(/^(\d+)px$/))return parseInt(i);var r=t[n];return t.style[e]=r+"px",r-=t[n]-r,t.style[e]=r+"px",r}function r(t,e,n,i,r){"string"==typeof t&&(t=document.getElementById(t));var o=""+t.style[e];if(o.match(/^(\d+)px$/))return parseInt(o);var s=t.offsetParent[n]-t[i]-t[r];return t.style[e]=s+"px",s-=t.offsetParent[n]-t[i]-t[r]-s,t.style[e]=s+"px",s}e.exports={toPxByOffset:i,toPxByParentOffset:r,width:function(t){return i(t,"width","offsetWidth")},left:function(t){return i(t,"left","offsetLeft")},height:function(t){return i(t,"height","offsetHeight")},top:function(t){return i(t,"top","offsetTop")},right:function(t){return r(t,"right","offsetWidth","offsetLeft","offsetWidth")},bottom:function(t){return r(t,"bottom","offsetHeight","offsetTop","offsetHeight")}}},{}],_package_json:[function(t,e,n){e.exports={name:"tpsvr",version:"1.0.1",description:"test page server",main:"server/tpsvr-main.js",scripts:{test:'echo "Error: no test specified" && exit 1'},keywords:["test","http","server"],author:"fwg",license:"ISC",bin:{tpsvr:"bin/cmd.js"},repository:{type:"git",url:"git+https://github.com/adf0001/tpsvr.git"},bugs:{url:"https://github.com/adf0001/tpsvr/issues"},homepage:"https://github.com/adf0001/tpsvr#readme",dependencies:{"argv-config":"^1.0.2","browserify-stringify-minimize-css-content":"^1.0.1","bundle-collapser":"^1.4.0","delay-set-timeout":"^1.0.1","easy-http-server":"^1.0.1","htm-tool":"^1.0.15","http-request-text":"^1.0.5","multiple-spawn":"^1.0.14","open-url-by-browser":"^1.0.1","response-long-poll-state":"^1.0.4","response-tool":"^1.0.4",stringify:"^5.2.0",supervisor:"^0.12.0",terser:"^5.10.0","version-value-set":"^1.0.1",watchify:"^4.0.0"},devDependencies:{}}},{}],"htm-tool":[function(t,e,n){var i=t(13),r=t(12),o=t(38),s=t(35),a=t(3),l=t(10),u=t(36),c=t(9),d=t(14),p=t(7),h=t(15),f=t(6),m=t(17),g=t(5),b="htm-tool@npm";e.exports=Object.assign((function(){return i.apply(this,arguments)}),{globalVarName:b,ele:i,eleFromId:i.fromId,eleId:i.id,eleOffset:r,tmkt:o,dateString19:o.toString19,dateString14:o.toString14,dateDiffDhm:o.diffDhm,dirPart:s.dirPart,normalizePath:s.normalize,addCssText:a,appendHtml:l.appendHtml,appendBodyHtml:l.appendBodyHtml,prependHtml:l.prependHtml,querySelectorByAttr:l.querySelectorByAttr,getSearchPart:l.getSearchPart,dispatchEventByName:l.dispatchEventByName,observeSingleMutation:l.observeSingleMutation,query_by_name_path:u,queryByNamePath:u,create_assign:c,derive:c,deriveObject:c,formatError:d,Error:d,browser_http_request:p,httpRequest:p.requestText,httpRequestJson:p.requestJson,bind_ui:f,bindUi:f,bindElement:g,bindElementArray:g.array,setSelected:h.setSelected,ui:m,show_log:m.show_log,showLog:m.showLog,drag:m.drag,popup:m.popup,showPopupHtml:m.showPopupHtml,alert:m.alert,confirm:m.confirm,confirmYnc:m.confirmYnc,prompt:m.prompt,selectRadioList:m.selectRadioList,selectCheckboxList:m.selectCheckboxList,selectButtonList:m.selectButtonList}),"undefined"!=typeof window&&window&&(window[b]=e.exports)},{10:10,12:12,13:13,14:14,15:15,17:17,3:3,35:35,36:36,38:38,5:5,6:6,7:7,9:9}],"main-view":[function(t,e,n){var i=t("htm-tool"),r=t(39);e.exports={config:{htmlText:t(2),cssText:t(1),bindArray:["project-list.list",["on","click","onClickProjectList"],"project-list.tool",["on","click","onClickProjectTool"],"top-bar.view-type",["on","click","updateProjectView"],"top-bar.operate.bundle",["on","click","onClickBundle"],"top-bar.operate.more",["on","click","onClickMore"],".iframe-page",["on","load","onIframeChange"],"top-bar.browse-tool.vscode",["on","click","onClickVscode"]],init:"init"},projectData:null,lastSelected:null,init:function(t){var e=this;i.ui.radio_group(this.nme("top-bar.view-type"));var n=this.nme("splitter");r.left(n),n.style.left=Math.round(parseInt(n.style.left)-n.offsetWidth/2)+"px",i.ui.width_splitter(n,this.nme("project-list"),null,[this.nme("top-bar"),this.nme("iframe-page").parentNode,this.nme("iframe-mask")],null,{min:50,callback:function(t){"start"===t?e.nme("iframe-mask").style.visibility="visible":"move"===t?e.onTopbarResize():"stop"===t&&(e.nme("iframe-mask").style.visibility="hidden")}}),window.addEventListener("resize",this.onTopbarResize.bind(this)),this.onTopbarResize(),i.httpRequestJson("/?cmd=listProject","GET","","",(function(t,n){if(t)e.nme("project-list.list").innerHTML=JSON.stringify(t);else{e.projectData=n.responseJson;var i=Object.keys(e.projectData);i.sort();var r,o=[];for(r=0;r<i.length;r++)o[o.length]="<span class='ht-cmd' name=\""+i[r]+'">'+i[r]+"</span>";e.nme("project-list.list").innerHTML=o.join("<br>"),e.updateListCount()}})),this.getLongPollState()},onClickProjectList:function(t){var e=t.target;"SPAN"!=e.tagName.toUpperCase()||e.className.indexOf("ht-cmd")<0||(this.lastSelected&&this.lastSelected.classList.remove("ht-selected"),e.classList.add("ht-selected"),this.lastSelected=e,this.nme("top-bar.operate").style.display="",this.updateProjectView(),this.updateSelectedBundleState())},getViewType:function(){return i.ui.radio_group.getValue(this.nme("top-bar.view-type"))},lastFrameUrl:"",lastFrameTime:0,updateProjectView:function(t){if((!t||!t.target||"INPUT"==t.target.tagName.toUpperCase())&&this.lastSelected){var e=this.lastSelected.textContent,n=this.getViewType(),i="/";(i+="browse"==n?e+"/*/":"console"==n?"?cmd=viewConsole&project="+encodeURIComponent(e):e+"/*/test/test.htm")===this.lastFrameUrl&&(new Date).getTime()-this.lastFrameTime<1e3||(this.lastFrameUrl=i,this.lastFrameTime=(new Date).getTime(),this.nme("top-bar.address-link").textContent="",this.nme("top-bar.address-link").href="",this.nme(".iframe-page").src=i)}},onTopbarResize:function(){var t=this.nme("top-bar").scrollHeight+1,e=this.nme(".iframe-page").parentNode,n=this.nme("iframe-mask");Math.abs(parseInt(e.style.top)-t)>1&&(e.style.top=t+"px",n.style.top=t+"px")},onIframeChange:function(){var t=this.nme(".iframe-page").contentWindow.location.href;this.nme("top-bar.address-link").textContent=decodeURIComponent(t),this.nme("top-bar.address-link").href=t,this.onTopbarResize();var e=this.nme(".iframe-page").contentWindow.location,n=e.pathname,i="browse"===this.getViewType()&&"about:blank"!=e.href?1:0,r=i&&!n.match(/[\\\/]$/);this.nme("top-bar.browse-tool").style.display=i?"":"none",this.nme("go-back").style.display=r?"":"none"},onClickVscode:function(){var t=this.nme("top-bar.address-link").textContent,e=t.indexOf("/*/");if(!(e<0)){t=t.slice(e+2);var n=this.lastSelected.getAttribute("name");t=this.projectData[n].path+t,window.open("vscode://file/"+t,"_blank")}},onClickBundle:function(){if(this.lastSelected){var t=this.nme("top-bar.operate.bundle").checked;this.nme("top-bar.operate.bundle").checked=!t;var e=this.lastSelected.textContent;i.httpRequestJson("/?cmd="+(t?"startBundle":"stopBundle")+"&project="+encodeURIComponent(e),"GET","","",(function(t,e){t&&i.show_log(t.responseText||t)}))}},longPoll:null,getLongPollState:function(){var t=this.longPoll||(this.longPoll={lastState:null,errorCount:0});t.tmid&&(clearTimeout(t.tmid),t.tmid=null),t.xhr&&(t.lastState=null,t.xhr.abort(),t.xhr=null);var e=this,n=t.lastState&&t.lastState.version?encodeURIComponent(JSON.stringify(t.lastState.version)):"",r=t.xhr=i.httpRequest("/?cmd=getLongPollState&"+(n?"state_version="+n:"current=1"),"GET","","",(function(n,o){t.xhr===r&&(t.xhr=null),t.tmid=setTimeout(e._getLongPollState||(e._getLongPollState=e.getLongPollState.bind(e)),t.errorCount<3?1e3:2e4),!n&&o.responseText&&o.responseText.match(/^\/+\s+/)?(t.errorCount=0,t.lastState=JSON.parse(o.responseText.replace(/^\/+\s+/,"")),e.updateState(t.lastState)):n&&0!==n.status&&(i.show_log("long poll state fail, "+n),t.lastState=null,t.errorCount++)}))},lastState:null,updateState:function(t){var e,n,i,r,o=this.lastState||(this.lastState={version:{},data:{}});for(e in t.data){for(n in i=t.data[e],(r=o.data[e])||(r=o.data[e]={}),i)i[n]!=r[n]&&(r[n]=i[n],"bundle"===e?this.updateBundleState(n,i[n]):"projects"===e&&this.updateProjectState(n,i[n]));for(n in r)i[n]!=r[n]&&(r[n]=i[n],"bundle"===e?this.updateBundleState(n,i[n]):"projects"===e&&this.updateProjectState(n,i[n]))}this.lastState.version=t.version,this.updateSelectedBundleState()},updateSelectedBundleState:function(){if(this.lastSelected&&this.lastState){var t=this.lastSelected.getAttribute("name"),e=this.lastState.data.bundle&&this.lastState.data.bundle[t];this.updateBundleState(t,e),this.nme("top-bar.operate.bundle").checked=!!e}},updateListCount:function(){this.nme("project-list.list-count").innerHTML=Object.keys(this.projectData).length},updateProjectState:function(t,e){var n=this.nme("project-list.list").querySelector("span[name='"+t+"']");if(n&&!e)n===this.lastSelected&&this.unselectProject(),n.previousSibling?n.parentNode.removeChild(n.previousSibling):n.nextSibling&&n.parentNode.removeChild(n.nextSibling),n.parentNode.removeChild(n),delete this.projectData[t],this.updateListCount();else if(!n&&e){var r=this;i.httpRequestJson("/?cmd=listProject&project="+t,"GET","","",(function(e,n){if(e)i.show_log(e.responseText||e);else{r.projectData[t]=n.responseJson;var o=r.nme("project-list.list");i.appendHtml(o,(o.firstChild?"<br>":"")+"<span class='ht-cmd' name=\""+t+'">'+t+"</span>"),r.updateListCount()}}))}},updateBundleState:function(t,e){var n=this.nme("project-list.list").querySelector("span[name='"+t+"']");n&&(e?n.classList.add("state-bundle"):n.classList.remove("state-bundle"))},onClickMore:function(){var t=this;i.ui.selectButtonList("project operations",[["createTestData","<div style='text-align:left;' title='create test code, required.'>create file 'test-data.js'</div>"],["createBundleTool","<div style='text-align:left;' title='create test module bundle tool, optional.'>create file 'test-bundle.bat' (optional)</div>"],["createTestHtm","<div style='text-align:left;' title='create test page, optional.'>create file 'test.htm' (optional)</div>"],["tryMinimizeBundle","<div style='text-align:left;' title='try bundling only main module, and minimize it.'>try minimize bundle</div>"],["createMiniBundleTool","<div style='text-align:left;' title='create main module minimize bundle tool, optional.'>create file 'main-minimize.bat' (optional)</div>"]],{maxHeight:"15em"},(function(e,n){n&&("createTestData"===n?t.createTestData():"createTestHtm"===n?t.createTestHtm():"createBundleTool"===n?t.createBundleTool():"tryMinimizeBundle"===n?t.tryMinimizeBundle():"createMiniBundleTool"===n&&t.createMiniBundleTool())}))},sendProjectCmd:function(t){var e=this.lastSelected&&this.lastSelected.getAttribute("name")||"";e?i.httpRequestJson("/?cmd="+t+"&project="+e,"GET","","",(function(t,e){if(t)i.show_log(t.responseText||t);else{var n=e.responseJson;"string"!=typeof n&&(n=JSON.stringify(n,null,"\t")),i.alert(n.replace(/[\n\r]+/g,"<br>"),!1)}})):this.unselectProject()},createTestData:function(){this.sendProjectCmd("createTestData")},createTestHtm:function(){this.sendProjectCmd("createTestHtm")},createBundleTool:function(){this.sendProjectCmd("createBundleTool")},tryMinimizeBundle:function(){this.sendProjectCmd("tryMinimizeBundle")},createMiniBundleTool:function(){this.sendProjectCmd("createMiniBundleTool")},onClickProjectTool:function(){var t=[["addProject","add project"]],e=this.lastSelected&&this.lastSelected.getAttribute("name")||"";e&&(t[t.length]=["removeProject","detach project / "+e]);var n=this;i.ui.selectButtonList("projects tool",t,(function(t,e){e&&("addProject"===e?n.addProject():"removeProject"===e&&n.removeProject())}))},unselectProject:function(){this.lastSelected&&(this.nme(".iframe-page").src="about:blank",this.lastSelected=null,this.nme("top-bar.operate").style.display="none")},removeProject:function(){var t=this.lastSelected&&this.lastSelected.getAttribute("name")||"";t?i.confirm("detach project '"+t+"'?",(function(e,n){!e&&n&&i.httpRequestJson("/?cmd=removeProject&name="+t,"GET","","",(function(t,e){t&&i.show_log(t.responseText||t)}))})):this.unselectProject()},addProject:function(){i.prompt("add new project path",(function(t,e){!t&&e&&i.httpRequestJson("/?cmd=addProject&path="+e,"GET","","",(function(t,e){t&&i.show_log(t.responseText||t)}))}))}},e.exports.class=function(t,n){i.bindUi(t,Object.create(e.exports),null,n)}},{1:1,2:2,39:39,"htm-tool":"htm-tool"}]},{},[]);